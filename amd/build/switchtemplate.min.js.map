{"version":3,"file":"switchtemplate.min.js","sources":["../src/switchtemplate.js"],"sourcesContent":["define(['jquery', 'core/str'], function($, Str) {\n    return {\n        init: function () {\n            Str.get_strings([\n                {key: 'placeholder', component: 'mod_iconactivatecontent'},\n                {key: 'defaulttext', component: 'mod_iconactivatecontent'},\n            ]).done(function(strings) {\n                $('#id_intro').on('change', function() {\n                    let selectedValue = $(this).val();\n                    var platforms = {\n                        'youtube.com': 'YouTube',\n                        'youtu.be': 'YouTube',\n                        'instagram.com': 'Instagram',\n                        'twitter.com' : 'Twitter',\n                        'maps.google.com' : 'Google Maps',\n                        'goo.gl/maps' : 'Google Maps',\n                        'www.google.com/maps' : 'Google Maps',\n                        'facebook.com': 'Facebook'\n                    };\n                    let targetPlatform = Object.keys(platforms).reduce(\n                        (a,b) => {\n                            return selectedValue.indexOf(b) > -1?b:a;\n                        },\n                        ''\n                    );\n                    if (targetPlatform !== '') {\n                        let textValue = strings[1].replace(strings[0], platforms[targetPlatform]);\n                        $('#id_body').text(textValue).val(textValue);\n                        $('#id_icon').val(platforms[targetPlatform]);\n                    } else {\n                        $('#id_body').text(strings[1]);\n                        $('#id_icon').val('custom');\n                    }\n                    $('#id_icon')[0].dispatchEvent(new Event('change'));\n                });\n            })\n\n        }\n    }\n});"],"names":["define","$","Str","init","get_strings","key","component","done","strings","on","selectedValue","this","val","platforms","targetPlatform","Object","keys","reduce","a","b","indexOf","textValue","replace","text","dispatchEvent","Event"],"mappings":"AAAAA,gDAAO,CAAC,SAAU,aAAa,SAASC,EAAGC,WAChC,CACHC,KAAM,WACFD,IAAIE,YAAY,CACZ,CAACC,IAAK,cAAeC,UAAW,2BAChC,CAACD,IAAK,cAAeC,UAAW,6BACjCC,MAAK,SAASC,SACbP,EAAE,aAAaQ,GAAG,UAAU,eACpBC,cAAgBT,EAAEU,MAAMC,UACxBC,UAAY,eACG,qBACH,0BACK,0BACD,4BACI,4BACJ,oCACQ,6BACR,gBAEhBC,eAAiBC,OAAOC,KAAKH,WAAWI,QACxC,CAACC,EAAEC,IACQT,cAAcU,QAAQD,IAAM,EAAEA,EAAED,GAE3C,OAEmB,KAAnBJ,eAAuB,KACnBO,UAAYb,QAAQ,GAAGc,QAAQd,QAAQ,GAAIK,UAAUC,iBACzDb,EAAE,YAAYsB,KAAKF,WAAWT,IAAIS,WAClCpB,EAAE,YAAYW,IAAIC,UAAUC,sBAE5Bb,EAAE,YAAYsB,KAAKf,QAAQ,IAC3BP,EAAE,YAAYW,IAAI,UAEtBX,EAAE,YAAY,GAAGuB,cAAc,IAAIC,MAAM"}